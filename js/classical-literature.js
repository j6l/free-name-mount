const poems = [
    {
        title: "出师表",
        author: "诸葛亮",
        content: `先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。

宫中府中，俱为一体；陟罚臧否，不宜异同。若有作奸犯科及为忠善者，宜付有司论其刑赏，以昭陛下平明之理；不宜偏私，使内外异法也。

侍中、侍郎郭攸之、费祎、董允等，此皆良实，志虑忠纯，是以先帝简拔以遗陛下。愚以为宫中之事，事无大小，悉以咨之，然后施行，必能裨补阙漏，有所广益。将军向宠，性行淑均，晓畅军事，试用于昔日，先帝称之曰能，是以众议举宠为督。愚以为营中之事，悉以咨之，必能使行阵和睦，优劣得所。

亲贤臣，远小人，此先汉所以兴隆也；亲小人，远贤臣，此后汉所以倾颓也。先帝在时，每与臣论此事，未尝不叹息痛恨于桓、灵也！侍中、尚书、长史、参军，此悉贞良死节之臣，愿陛下亲之信之，则汉室之隆，可计日而待也。

臣本布衣，躬耕于南阳，苟全性命于乱世，不求闻达于诸侯。先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激，遂许先帝以驱驰。后值倾覆，受任于败军之际，奉命于危难之间，尔来二十有一年矣。

先帝知臣谨慎，故临崩寄臣以大事也。受命以来，夙夜忧叹，恐托付不效，以伤先帝之明；故五月渡泸，深入不毛。今南方已定，兵甲已足，当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。此臣所以报先帝而忠陛下之职分也。至于斟酌损益，进尽忠言，则攸之、祎、允之任也。

愿陛下托臣以讨贼兴复之效；不效，则治臣之罪，以告先帝之灵。若无兴德之言，则责攸之、祎、允等之慢，以彰其咎。陛下亦宜自谋，以咨诹善道，察纳雅言，深追先帝遗诏。臣不胜受恩感激。今当远离，临表涕零，不知所言。`
    },
    {
        title: "念奴娇·赤壁怀古",
        author: "苏轼",
        content: `大江东去，浪淘尽，千古风流人物。故垒西边，人道是，三国周郎赤壁。乱石穿空，惊涛拍岸，卷起千堆雪。江山如画，一时多少豪杰。

遥想公瑾当年，小乔初嫁了，雄姿英发。羽扇纶巾，谈笑间，樯橹灰飞烟灭。故国神游，多情应笑我，早生华发。人生如梦，一尊还酹江月。`
    },
    {
        title: "声声慢·寻寻觅觅",
        author: "李清照",
        content: `寻寻觅觅，冷冷清清，凄凄惨惨戚戚。乍暖还寒时候，最难将息。三杯两盏淡酒，怎敌他、晚来风急？雁过也，正伤心，却是旧时相识。

满地黄花堆积。憔悴损，如今有谁堪摘？守着窗儿，独自怎生得黑？梧桐更兼细雨，到黄昏、点点滴滴。这次第，怎一个愁字了得！`
    },
    {
        title: "永遇乐·京口北固亭怀古",
        author: "辛弃疾",
        content: `千古江山，英雄无觅孙仲谋处。舞榭歌台，风流总被雨打风吹去。斜阳草树，寻常巷陌，人道寄奴曾住。想当年，金戈铁马，气吞万里如虎。

元嘉草草，封狼居胥，赢得仓皇北顾。四十三年，望中犹记，烽火扬州路。可堪回首，佛狸祠下，一片神鸦社鼓。凭谁问，廉颇老矣，尚能饭否？`
    },
    {
        title: "满江红·写怀",
        author: "岳飞",
        content: `怒发冲冠，凭栏处、潇潇雨歇。抬望眼、仰天长啸，壮怀激烈。三十功名尘与土，八千里路云和月。莫等闲、白了少年头，空悲切！

靖康耻，犹未雪。臣子恨，何时灭！驾长车，踏破贺兰山缺。壮志饥餐胡虏肉，笑谈渴饮匈奴血。待从头、收拾旧山河，朝天阙。`
    },
    {
        title: "虞美人·春花秋月何时了",
        author: "李煜",
        content: `春花秋月何时了？往事知多少。小楼昨夜又东风，故国不堪回首月明中。

雕栏玉砌应犹在，只是朱颜改。问君能有几多愁？恰似一江春水向东流。`
    },
    {
        title: "雨霖铃·寒蝉凄切",
        author: "柳永",
        content: `寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处、兰舟催发。执手相看泪眼，竟无语凝噎。念去去、千里烟波，暮霭沉沉楚天阔。

多情自古伤离别，更那堪、冷落清秋节！今宵酒醒何处？杨柳岸、晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？`
    },
    {
        title: "水调歌头·明月几时有",
        author: "苏轼",
        content: `明月几时有？把酒问青天。不知天上宫阙，今夕是何年。我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？

转朱阁，低绮户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。`
    },
    {
        title: "扬州慢·淮左名都",
        author: "姜夔",
        content: `淮左名都，竹西佳处，解鞍少驻初程。过春风十里，尽荠麦青青。自胡马窥江去后，废池乔木，犹厌言兵。渐黄昏，清角吹寒，都在空城。

杜郎俊赏，算而今、重到须惊。纵豆蔻词工，青楼梦好，难赋深情。二十四桥仍在，波心荡，冷月无声。念桥边红药，年年知为谁生！`
    },
    {
        title: "钗头凤·红酥手",
        author: "陆游",
        content: `红酥手，黄縢酒，满城春色宫墙柳。东风恶，欢情薄。一怀愁绪，几年离索。错、错、错。

春如旧，人空瘦，泪痕红浥鲛绡透。桃花落，闲池阁。山盟虽在，锦书难托。莫、莫、莫。`
    },
    {
        title: "鹊桥仙·纤云弄巧",
        author: "秦观",
        content: `纤云弄巧，飞星传恨，银汉迢迢暗度。金风玉露一相逢，便胜却人间无数。

柔情似水，佳期如梦，忍顾鹊桥归路。两情若是久长时，又岂在朝朝暮暮。`
    },
    {
        title: "浣溪沙·一曲新词酒一杯",
        author: "晏殊",
        content: `一曲新词酒一杯，去年天气旧亭台。夕阳西下几时回？

无可奈何花落去，似曾相识燕归来。小园香径独徘徊。`
    },
    {
        title: "蝶恋花·庭院深深深几许",
        author: "欧阳修",
        content: `庭院深深深几许？杨柳堆烟，帘幕无重数。玉勒雕鞍游冶处，楼高不见章台路。

雨横风狂三月暮，门掩黄昏，无计留春住。泪眼问花花不语，乱红飞过秋千去。`
    },
    {
        title: "兰陵王·柳",
        author: "周邦彦",
        content: `柳荫直。烟里丝丝弄碧。隋堤上、曾见几番，拂水飘绵送行色。登临望故国。谁识。京华倦客。长亭路，年去岁来，应折柔条过千尺。

闲愁投老，西湖曾识。余霞散绮，向晚来、流霞飞，日暮，疏林暝。空山何处？谁问。

回首繁华梦，愁如织。寒烟翠，更闻江上声。空自叹。夜来风雨，送春归。`
    },
    {
        title: "一剪梅·红藕香残玉簟秋",
        author: "李清照",
        content: `红藕香残玉簟秋。轻解罗裳，独上兰舟。云中谁寄锦书来？雁字回时，月满西楼。

花自飘零水自流。一种相思，两处闲愁。此情无计可消除，才下眉头，却上心头。`
    },
    {
        title: "青玉案·元夕",
        author: "辛弃疾",
        content: `东风夜放花千树。更吹落、星如雨。宝马雕车香满路。凤箫声动，玉壶光转，一夜鱼龙舞。

蛾儿雪柳黄金缕。笑语盈盈暗香去。众里寻他千百度。蓦然回首，那人却在，灯火阑珊处。`
    },
    {
        title: "江城子·乙卯正月二十日夜记梦",
        author: "苏轼",
        content: `十年生死两茫茫。不思量，自难忘。千里孤坟，无处话凄凉。纵使相逢应不识，尘满面，鬓如霜。

夜来幽梦忽还乡。小轩窗，正梳妆。相顾无言，惟有泪千行。料得年年肠断处，明月夜，短松冈。`
    },
    {
        title: "渔家傲·秋思",
        author: "范仲淹",
        content: `塞下秋来风景异，衡阳雁去无留意。四面边声连角起，千嶂里，长烟落日孤城闭。

浊酒一杯家万里，燕然未勒归无计。羌管悠悠霜满地，人不寐，将军白发征夫泪。`
    },
    {
        title: "六州歌头·长淮望断",
        author: "张孝祥",
        content: `长淮望断，关塞莽然平。征尘暗，霜风劲，悄边声。黯销凝。追念当年事，殆天数，非人力，洙泗上，弦歌地，亦膻腥。隔水毡乡，落日牛羊下，区脱纵横。看名王宵猎，骑火一川明，笳鼓悲鸣，遣人惊。

念腰间箭，何由射！伐胡星斗。只恨功名晚，谁念我，老矣！举杯长恨此，无语问斜阳。`
    },
    {
        title: "蝶恋花·伫倚危楼风细细",
        author: "柳永",
        content: `伫倚危楼风细细，望极春愁，黯黯生天际。草色烟光残照里，无言谁会凭阑意。

拟把疏狂图一醉，对酒当歌，强乐还无味。衣带渐宽终不悔，为伊消得人憔悴。`
    },
    {
        title: "定风波·莫听穿林打叶声",
        author: "苏轼",
        content: `莫听穿林打叶声，何妨吟啸且徐行。竹杖芒鞋轻胜马，谁怕？一蓑烟雨任平生。

料峭春风吹酒醒，微冷，山头斜照却相迎。回首向来萧瑟处，归去，也无风雨也无晴。`
    },
    {
        title: "浪淘沙令·帘外雨潺潺",
        author: "李煜",
        content: `帘外雨潺潺，春意阑珊。罗衾不耐五更寒。梦里不知身是客，一晌贪欢。

独自莫凭栏，无限江山，别时容易见时难。流水落花春去也，天上人间。`
    },
    {
        title: "临江仙·梦后楼台高锁",
        author: "晏几道",
        content: `梦后楼台高锁，酒醒帘幕低垂。去年春恨却来时。落花人独立，微雨燕双飞。

记得小蘋初见，两重心字罗衣。琵琶弦上说相思。当时明月在，曾照彩云归。`
    },
    {
        title: "青玉案·凌波不过横塘路",
        author: "贺铸",
        content: `凌波不过横塘路，但目送、芳尘去。锦瑟年华谁与度？月桥花院，琐窗朱户，只有春知处。

飞云冉冉蘅皋暮，彩笔新题断肠句。若问闲情都几许？一川烟草，满城风絮，梅子黄时雨。`
    },
    {
        title: "苏幕遮·燎沉香",
        author: "周邦彦",
        content: `燎沉香，消溽暑。鸟雀呼晴，侵晓窥檐语。叶上初阳干宿雨、水面清圆，一一风荷举。

故乡遥，何日去？家住吴门，久作长安旅。五月渔郎相忆否？小楫轻舟，梦入芙蓉浦。`
    },
    {
        title: "诉衷情·当年万里觅封侯",
        author: "陆游",
        content: `当年万里觅封侯，匹马戍梁州。关河梦断何处？尘暗旧貂裘。

胡未灭，鬓先秋，泪空流。此生谁料，心在天山，身老沧洲！`
    },
    {
        title: "莺啼序·春草池塘",
        author: "吴文英",
        content: `春草池塘，绿阴庭院，斜阳外、画角声催。登高临远，正惆怅、是去年时节。燕子初归，旧巢犹在，料无人、会语梁间燕。

小楼独倚，东风又起，多少恨、都付东流。更那堪、帘卷黄昏，月淡星稀。`
    },
    {
        title: "破阵子·为陈同甫赋壮词以寄之",
        author: "辛弃疾",
        content: `醉里挑灯看剑，梦回吹角连营。八百里分麾下炙，五十弦翻塞外声。沙场秋点兵。

马作的卢飞快，弓如霹雳弦惊。了却君王天下事，赢得生前身后名。可怜白发生！`
    },
    {
        title: "过零丁洋",
        author: "文天祥",
        content: `辛苦遭逢起一经，干戈寥落四周星。山河破碎风飘絮，身世浮沉雨打萍。

惶恐滩头说惶恐，零丁洋里叹零丁。人生自古谁无死？留取丹心照汗青。`
    },
    {
        title: "观沧海",
        author: "曹操",
        content: `东临碣石，以观沧海。水何澹澹，山岛竦峙。

树木丛生，百草丰茂。秋风萧瑟，洪波涌起。

日月之行，若出其中；星汉灿烂，若出其里。

幸甚至哉，歌以咏志。`
    },
    {
        title: "饮酒·其五",
        author: "陶渊明",
        content: `结庐在人境，而无车马喧。问君何能尔？心远地自偏。

采菊东篱下，悠然见南山。山气日夕佳，飞鸟相与还。

此中有真意，欲辨已忘言。`
    },
    {
        title: "山居秋暝",
        author: "王维",
        content: `空山新雨后，天气晚来秋。明月松间照，清泉石上流。

竹喧归浣女，莲动下渔舟。随意春芳歇，王孙自可留。`
    },
    {
        title: "将进酒",
        author: "李白",
        content: `君不见，黄河之水天上来，奔流到海不复回。
君不见，高堂明镜悲白发，朝如青丝暮成雪。

人生得意须尽欢，莫使金樽空对月。
天生我材必有用，千金散尽还复来。
烹羊宰牛且为乐，会须一饮三百杯。
岑夫子，丹丘生，将进酒，君莫停。
与君歌一曲，请君为我侧耳听。

钟鼓馔玉不足贵，但愿长醉不复醒。
古来圣贤皆寂寞，惟有饮者留其名。
陈王昔时宴平乐，斗酒十千恣欢谑。
主人何为言少钱，径须沽取对君酌。
五花马，千金裘，呼儿将出换美酒，与尔同销万古愁。`
    },
    {
        title: "登高",
        author: "杜甫",
        content: `风急天高猿啸哀，渚清沙白鸟飞回。无边落木萧萧下，不尽长江滚滚来。

万里悲秋常作客，百年多病独登台。艰难苦恨繁霜鬓，潦倒新停浊酒杯。`
    },
    {
        title: "长恨歌",
        author: "白居易",
        content: `汉皇重色思倾国，御宇多年求不得。杨家有女初长成，养在深闺人未识。

天生丽质难自弃，一朝选在君王侧。回眸一笑百媚生，六宫粉黛无颜色。
春寒赐浴华清池，温泉水滑洗凝脂。侍儿扶起娇无力，始是新承恩泽时。
云鬓花颜金步摇，芙蓉帐暖度春宵。春宵苦短日高起，从此君王不早朝。
承欢侍宴无闲暇，春从春游夜专夜。后宫佳丽三千人，三千宠爱在一身。
金屋妆成娇侍夜，玉楼宴罢醉和春。姊妹弟兄皆列土，可怜光彩生门户。
遂令天下父母心，不重生男重生女。

骊宫高处入青云，仙乐风飘处处闻。缓歌慢舞凝丝竹，尽日君王看不足。
渔阳鼙鼓动地来，惊破霓裳羽衣曲。九重城阙烟尘生，千乘万骑西南行。
翠华摇摇行复止，西出都门百余里。六军不发无奈何，宛转蛾眉马前死。
花钿委地无人收，翠翘金雀玉搔头。君王掩面救不得，回看血泪相和流。

黄埃散漫风萧索，云栈萦纡登剑阁。峨嵋山下少人行，旌旗无光日色薄。
蜀江水碧蜀山青，圣主朝朝暮暮情。行宫见月伤心色，夜雨闻铃肠断声。

天旋地转回龙驭，到此踌躇不能去。马嵬坡下泥土中，不见玉颜空死处。
君臣相顾尽沾衣，东望都门信马归。归来池苑皆依旧，太液芙蓉未央柳。
芙蓉如面柳如眉，对此如何不泪垂。春风桃李花开日，秋雨梧桐叶落时。
西宫南内多秋草，落叶满阶红不扫。梨园弟子白发新，椒房阿监青娥老。
夕殿萤飞思悄然，孤灯挑尽未成眠。迟迟钟鼓初长夜，耿耿星河欲曙天。
鸳鸯瓦冷霜华重，翡翠衾寒谁与共。悠悠生死别经年，魂魄不曾来入梦。

临邛道士鸿都客，能以精诚致魂魄。为感君王辗转思，遂教方士殷勤觅。
排空驭气奔如电，升天入地求之遍。上穷碧落下黄泉，两处茫茫皆不见。
忽闻海上有仙山，山在虚无缥缈间。楼阁玲珑五云起，其中绰约多仙子。
中有一人字太真，雪肤花貌参差是。金阙西厢叩玉扃，转教小玉报双成。
闻道汉家天子使，九华帐里梦魂惊。揽衣推枕起徘徊，珠箔银屏迤逦开。
云鬓半偏新睡觉，花冠不整下堂来。风吹仙袂飘飖举，犹似霓裳羽衣舞。
玉容寂寞泪阑干，梨花一枝春带雨。

含情凝睇谢君王，一别音容两渺茫。昭阳殿里恩爱绝，蓬莱宫中日月长。
回头下望人寰处，不见长安见尘雾。惟将旧物表深情，钿合金钗寄将去。
钗留一股合一扇，钗擘黄金合分钿。但教心似金钿坚，天上人间会相见。
临别殷勤重寄词，词中有誓两心知。七月七日长生殿，夜半无人私语时。
在天愿作比翼鸟，在地愿为连理枝。天长地久有时尽，此恨绵绵无绝期。`
    }
];

let currentPoemIndex = 0;
let baseFontSize = 1.2; // rem

const poemList = document.getElementById('poem-list');
const poemDisplay = document.getElementById('poem-display');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const biggerFontBtn = document.getElementById('biggerFontBtn');
const smallerFontBtn = document.getElementById('smallerFontBtn');

// Function to render the poem list
function renderPoemList() {
    poemList.innerHTML = '';
    poems.forEach((poem, index) => {
        const listItem = document.createElement('li');
        listItem.textContent = `${poem.title} - ${poem.author}`;
        listItem.dataset.index = index;
        if (index === currentPoemIndex) {
            listItem.classList.add('active');
        }
        listItem.addEventListener('click', () => {
            currentPoemIndex = index;
            displayPoem(currentPoemIndex);
            updateActivePoemInList();
        });
        poemList.appendChild(listItem);
    });
}

// Function to update active class in poem list
function updateActivePoemInList() {
    const listItems = poemList.querySelectorAll('li');
    listItems.forEach((item, index) => {
        if (parseInt(item.dataset.index) === currentPoemIndex) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
}

// Function to display a poem
function displayPoem(index) {
    const poem = poems[index];
    poemDisplay.innerHTML = `
        <h2>${poem.title}</h2>
        <h3>${poem.author}</h3>
        <p>${poem.content.split('\n').map(paragraph => `<p>${paragraph}</p>`).join('')}</p>
    `;
    updateFontSize();
    // Scroll to top of poem display
    poemDisplay.scrollTop = 0;
}

// Function to adjust font size
function updateFontSize() {
    poemDisplay.style.fontSize = `${baseFontSize}rem`;
}

// Event Listeners
prevBtn.addEventListener('click', () => {
    currentPoemIndex = (currentPoemIndex - 1 + poems.length) % poems.length;
    displayPoem(currentPoemIndex);
    updateActivePoemInList();
});

nextBtn.addEventListener('click', () => {
    currentPoemIndex = (currentPoemIndex + 1) % poems.length;
    displayPoem(currentPoemIndex);
    updateActivePoemInList();
});

biggerFontBtn.addEventListener('click', () => {
    baseFontSize += 0.1;
    updateFontSize();
});

smallerFontBtn.addEventListener('click', () => {
    if (baseFontSize > 0.5) {
        baseFontSize -= 0.1;
        updateFontSize();
    }
});

// Initial load
renderPoemList();
displayPoem(currentPoemIndex); // Display the first poem by default (出师表)